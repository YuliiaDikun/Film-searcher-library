!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequireb280;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequireb280=a);var i=a("bpxeT"),o=a("2TvXO"),s=a("iU1Pc"),c=a("lHIzZ"),u=a("2eIIo"),d=a("pWSgs"),l=a("bGg9a"),f=(l=a("bGg9a"),document.querySelector(".films")),g=document.querySelector("#js-film-modal"),m="watchedList",v="queueList",p="favouriteMovies";f.addEventListener("click",(function(e){return L.apply(this,arguments)}));var y=new(0,c.default);function L(){return(L=e(i)(e(o).mark((function t(n){var r,a,i,c,f,L,w,b,h,k,x,T,E,N,q,S,O,_,F,I;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(h=function(e){return e.map((function(e){return e})).find((function(e){return e.name.includes("Trailer")||e.name}))},x=function(t){if(t)return"https://www.youtube.com/embed/".concat(t.key);e(s).Notify.failure("Oops! Trailer did not find...")},O=function(){E.movie||e(s).Notify.failure("Trailer did not find"),S.classList.toggle("trailer__youtube")},_=function(){g.innerHTML="",g.classList.add("is-hidden"),document.removeEventListener("keydown",F),g.removeEventListener("click",I),q.removeEventListener("click",O)},F=function(e){"Escape"===e.code&&_()},I=function(e){"path"!==e.target.nodeName&&"svg"!==e.target.nodeName||_(),e.target===e.currentTarget&&_(),"watched"===e.target.dataset.name&&(0,l.default)(m,a,E),"queue"===e.target.dataset.name&&(0,l.default)(v,a,E)},t.prev=6,"UL"!==n.target.nodeName){t.next=9;break}return t.abrupt("return");case 9:return r=n.target.closest("li"),a=r.dataset.id,y.idFilm=a,t.next=14,y.getFilmByID();case 14:if(i=t.sent,c=i.genres,"svg"!==n.target.nodeName&&"path"!==n.target.nodeName){t.next=20;break}(f=n.target.closest("svg")).classList.toggle("active"),f.classList.contains("active")&&(L=c[0],(0,l.setFavFilmsToLocalStorage)(p,L,a)),t.next=42;break;case 20:return t.next=22,y.getTrailerById();case 22:w=t.sent,b=w.results,k=h(b),T=x(k),(E=(0,d.default)(i)).movie=T,N=(0,u.default)(E),g.innerHTML=N,q=document.querySelector(".trailerShow"),S=document.querySelector(".hidden"),g.classList.remove("is-hidden"),g.addEventListener("click",I),document.addEventListener("keydown",F),q.addEventListener("click",O);case 42:t.next=47;break;case 44:t.prev=44,t.t0=t.catch(6),e(s).Notify.failure("Oops! Something gets wrong!");case 47:case"end":return t.stop()}}),t,null,[[6,44]])})))).apply(this,arguments)}}();
//# sourceMappingURL=index.5e9e5546.js.map
