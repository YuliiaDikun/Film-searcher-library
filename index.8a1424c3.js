!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequire216a;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequire216a=a);var i=a("bpxeT"),o=a("2TvXO"),s=a("iU1Pc"),c=a("lHIzZ"),u=a("2eIIo"),d=a("pWSgs"),l=a("UL92Z"),f=a("bGg9a"),g=document.querySelector(".films"),m=document.querySelector("#js-film-modal"),v="watchedList",p="queueList",y="favouriteMovies",L=(0,l.getLocalStorage)(y);g.addEventListener("click",(function(e){return w.apply(this,arguments)}));var h=new(0,c.default);function w(){return(w=e(i)(e(o).mark((function t(n){var r,a,i,c,g,w,b,k,x,T,E,N,q,S,O,_,I,M,U,D;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(x=function(e){return e.map((function(e){return e})).find((function(e){return e.name.includes("Trailer")||e.name}))},E=function(t){if(t)return"https://www.youtube.com/embed/".concat(t.key);e(s).Notify.failure("Oops! Trailer did not find...")},I=function(){q.movie||e(s).Notify.failure("Trailer did not find"),_.classList.toggle("trailer__youtube")},M=function(){m.innerHTML="",m.classList.add("is-hidden"),document.removeEventListener("keydown",U),m.removeEventListener("click",D),O.removeEventListener("click",I)},U=function(e){"Escape"===e.code&&M()},D=function(e){"path"!==e.target.nodeName&&"svg"!==e.target.nodeName||M(),e.target===e.currentTarget&&M(),"watched"===e.target.dataset.name&&(0,f.default)(v,a,q),"queue"===e.target.dataset.name&&(0,f.default)(p,a,q)},t.prev=6,"UL"!==n.target.nodeName){t.next=9;break}return t.abrupt("return");case 9:return r=n.target.closest("li"),a=r.dataset.id,h.idFilm=a,t.next=14,h.getFilmByID();case 14:if(i=t.sent,c=i.genres,"svg"!==n.target.nodeName&&"path"!==n.target.nodeName){t.next=20;break}(g=n.target.closest("svg")).classList.toggle("active"),w=Object.keys(L),g.classList.contains("active")&&!w.includes(a)&&(c.forEach((function(e){return L[a]=e})),(0,l.setLocalStorage)(y,L)),t.next=42;break;case 20:return t.next=22,h.getTrailerById();case 22:b=t.sent,k=b.results,T=x(k),N=E(T),(q=(0,d.default)(i)).movie=N,S=(0,u.default)(q),m.innerHTML=S,O=document.querySelector(".trailerShow"),_=document.querySelector(".hidden"),m.classList.remove("is-hidden"),m.addEventListener("click",D),document.addEventListener("keydown",U),O.addEventListener("click",I);case 42:t.next=47;break;case 44:t.prev=44,t.t0=t.catch(6),e(s).Notify.failure(t.t0.message);case 47:case"end":return t.stop()}}),t,null,[[6,44]])})))).apply(this,arguments)}}();
//# sourceMappingURL=index.8a1424c3.js.map
