function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},o=t.parcelRequireb280;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){i[e]=t},t.parcelRequireb280=o);var r=o("eWCmQ"),a=o("9Bkxl"),s=o("eXQeU"),d=o("6Jpgb"),l=o("2ST4D");l=o("2ST4D");const c=document.querySelector(".films"),u=document.querySelector("#js-film-modal");c.addEventListener("click",(async function(t){try{if("UL"===t.target.nodeName)return;const c=t.target.closest("li").dataset.id;f.idFilm=c;const m=await f.getFilmByID();let g=m.genres;if("svg"===t.target.nodeName||"path"===t.target.nodeName){let v=t.target.closest("svg");if(v.classList.toggle("active"),v.classList.contains("active")){const y=g[0];(0,l.setFavFilmsToLocalStorage)("favouriteMovies",y,c)}}else{let p=(await f.getTrailerById()).results;const L=function(t){if(t)return`https://www.youtube.com/embed/${t.key}`;e(r).Notify.failure("Oops! Trailer did not find...")}(p.map((e=>e)).find((e=>e.name.includes("Trailer")||e.name))),w=(0,d.default)(m);w.movie=L;const h=(0,s.default)(w);u.innerHTML=h;let T=document.querySelector(".trailerShow"),b=document.querySelector(".hidden");function n(){w.movie||e(r).Notify.failure("Trailer did not find"),b.classList.toggle("trailer__youtube")}function i(){u.innerHTML="",u.classList.add("is-hidden"),document.removeEventListener("keydown",o),u.removeEventListener("click",a),T.removeEventListener("click",n)}function o(e){"Escape"===e.code&&i()}function a(e){"path"!==e.target.nodeName&&"svg"!==e.target.nodeName||i(),e.target===e.currentTarget&&i(),"watched"===e.target.dataset.name&&(0,l.default)("watchedList",c,w),"queue"===e.target.dataset.name&&(0,l.default)("queueList",c,w)}u.classList.remove("is-hidden"),u.addEventListener("click",a),document.addEventListener("keydown",o),T.addEventListener("click",n)}}catch(E){e(r).Notify.failure("Oops! Something gets wrong!")}}));const f=new(0,a.default);
//# sourceMappingURL=index.cfafb23c.js.map
