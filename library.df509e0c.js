function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},l={},a=t.parcelRequire216a;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in l){var t=l[e];delete l[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){l[e]=t},t.parcelRequire216a=a);var i=a("eWCmQ"),o=a("9Bkxl"),s=a("eXQeU"),c=a("6Jpgb"),r=a("31u3U");var d=e(a("amrNH")).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,l,a){var i,o=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,c="function",r=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<li class='films__item' data-id="+r(typeof(i=null!=(i=d(n,"id")||(null!=t?d(t,"id"):t))?i:s)===c?i.call(o,{name:"id",hash:{},data:a,loc:{start:{line:1,column:32},end:{line:1,column:38}}}):i)+">\n    <div class='films__img'>\n        <img src='https://image.tmdb.org/t/p/w500"+r(typeof(i=null!=(i=d(n,"poster_path")||(null!=t?d(t,"poster_path"):t))?i:s)===c?i.call(o,{name:"poster_path",hash:{},data:a,loc:{start:{line:3,column:49},end:{line:3,column:64}}}):i)+"' alt="+r(typeof(i=null!=(i=d(n,"original_title")||(null!=t?d(t,"original_title"):t))?i:s)===c?i.call(o,{name:"original_title",hash:{},data:a,loc:{start:{line:3,column:70},end:{line:3,column:88}}}):i)+" loading='lazy' />\n    </div>\n    <div class='films__description'>\n        <p class='films__name'>"+r(typeof(i=null!=(i=d(n,"title")||(null!=t?d(t,"title"):t))?i:s)===c?i.call(o,{name:"title",hash:{},data:a,loc:{start:{line:6,column:31},end:{line:6,column:40}}}):i)+"</p>\n        <div class=\"films__container\">\n            <p class='films__info'>"+r(typeof(i=null!=(i=d(n,"genres")||(null!=t?d(t,"genres"):t))?i:s)===c?i.call(o,{name:"genres",hash:{},data:a,loc:{start:{line:8,column:35},end:{line:8,column:45}}}):i)+" | "+r(typeof(i=null!=(i=d(n,"release_date")||(null!=t?d(t,"release_date"):t))?i:s)===c?i.call(o,{name:"release_date",hash:{},data:a,loc:{start:{line:8,column:48},end:{line:8,column:64}}}):i)+"</p>\n            <span class='films__rating'>"+r(typeof(i=null!=(i=d(n,"vote_average")||(null!=t?d(t,"vote_average"):t))?i:s)===c?i.call(o,{name:"vote_average",hash:{},data:a,loc:{start:{line:9,column:40},end:{line:9,column:56}}}):i)+"</span>\n        </div>      \n    </div>\n</li>"},useData:!0}),u=a("2ST4D");a("4S0r6"),a("lo17Q");const m=document.querySelector("[data-watched]"),f=document.querySelector("[data-queue]"),p=document.querySelector(".films"),g=document.querySelector("#js-film-modal");m.addEventListener("click",(function(){f.classList.remove("is-active"),m.classList.add("is-active"),L("watchedList"),(0,r.setLocalStorage)("selectedList","watched")})),f.addEventListener("click",(function(){m.classList.remove("is-active"),f.classList.add("is-active"),L("queueList"),(0,r.setLocalStorage)("selectedList","queue")})),p.addEventListener("click",(async function(t){try{if("UL"===t.target.nodeName)return;const e=(0,r.getLocalStorage)("selectedList"),n=t.target.closest("li");let l=n.dataset.id;h.idFilm=l;const a=await h.getFilmByID();let i=(await h.getTrailerById()).results;const o=`https://www.youtube.com/embed/${i.map((e=>e)).find((e=>"Official Trailer"===e.name)).key}`,d=(0,c.default)(a);d.movie=o;const m=(0,s.default)(d);g.innerHTML=m,g.classList.remove("is-hidden");let f=document.querySelector(".trailerShow"),p=document.querySelector(".hidden");f.addEventListener("click",(()=>{p.classList.toggle("trailer__youtube")}));let L=document.querySelector('[data-name="watched"]'),y=document.querySelector('[data-name="queue"]');L.textContent="REMOVE","queue"===e&&(y.textContent="ADD TO WATCHED");const q=t=>{v("watched"===e?"watchedList":"queueList",l,n)},E=t=>{"queue"===e?((0,u.default)("watchedList",l,d),v("queueList",l,n)):((0,u.default)("queueList",l,d),v("watchedList",l,n))};g.addEventListener("click",w),document.addEventListener("keydown",_),L.addEventListener("click",q),y.addEventListener("click",E)}catch(t){e(i).Notify.failure(t.message)}}));const h=new(0,o.default);function v(e,t,n){const l=(0,r.getLocalStorage)(e),a=l.findIndex((e=>e.id===Number(t)));l.splice(a,1),(0,r.setLocalStorage)(e,l),y(),n.remove()}function L(t){p.innerHTML="";const n=(0,r.getLocalStorage)(t);n.length||e(i).Notify.failure("The list is empty.");const l=n.map((e=>d(e))).join("");p.insertAdjacentHTML("beforeend",l)}function y(){g.innerHTML="",g.classList.add("is-hidden"),document.removeEventListener("keydown",_),g.removeEventListener("click",w)}function _(e){"Escape"===e.code&&y()}function w(e){"path"!==e.target.nodeName&&"svg"!==e.target.nodeName||y(),e.target===e.currentTarget&&y()}
//# sourceMappingURL=library.df509e0c.js.map
