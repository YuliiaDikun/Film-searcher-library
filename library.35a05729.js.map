{"mappings":"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","sources":["src/js/library.js","src/templates/filmLibraryCard.hbs","src/js/getFavGenres.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport FilmApi from './movieAPI';\nimport filmCard from '../templates/modal-film.hbs';\nimport fixObject from './fixObject';\nimport { setLocalStorage, getLocalStorage } from './localStorage';\nimport filmLibraryCard from '../templates/filmLibraryCard.hbs';\nimport setFilmToLocalStorage from './setFilmToLocalStorage';\nimport { getFavGenres } from './getFavGenres';\nimport { spinnerPlay, spinnerStop } from './spinner.js';\nimport fixArray from './fixArray';\nimport { createPagination } from './pagination';\nimport { createMarkUp } from './createMarkUp';\nimport './theme';\nimport './topBtn';\n\nconst watchedLibraryBtn = document.querySelector('[data-watched]');\nconst queueLibraryBtn = document.querySelector('[data-queue]');\nconst favBtn = document.querySelector('[data-fav]');\nconst h2Rec = document.querySelector('.recom');\n\nconst ulEl = document.querySelector('.films');\nconst modalContainer = document.querySelector('#js-film-modal');\n\nconst LOCAL_WATCHED = 'watchedList';\nconst LOCAL_QUEUE = 'queueList';\nconst LOCAL_LIST = 'selectedList';\nconst FAV_KEY = 'favouriteMovies';\n\nwatchedLibraryBtn.addEventListener('click', onWatchedLibrary);\nqueueLibraryBtn.addEventListener('click', onQueueLibrary);\nfavBtn.addEventListener('click', onFavBtn);\nulEl.addEventListener('click', onUlElClick);\n\nconst filmAPIByID = new FilmApi();\n\nfunction onWatchedLibrary() {\n  queueLibraryBtn.classList.remove('is-active');\n  favBtn.classList.remove('is-active');\n  watchedLibraryBtn.classList.add('is-active');\n\n  createFilmList(LOCAL_WATCHED);\n  setLocalStorage(LOCAL_LIST, 'watched');\n}\n\nfunction onQueueLibrary() {\n  watchedLibraryBtn.classList.remove('is-active');\n  favBtn.classList.remove('is-active');\n  queueLibraryBtn.classList.add('is-active');\n\n  createFilmList(LOCAL_QUEUE);\n  setLocalStorage(LOCAL_LIST, 'queue');\n}\nasync function onFavBtn() {\n  try {\n    setLocalStorage(LOCAL_LIST, 'fav');\n    ulEl.innerHTML = '';\n    watchedLibraryBtn.classList.remove('is-active');\n    queueLibraryBtn.classList.remove('is-active');\n    favBtn.classList.add('is-active');\n    const favGenres = getFavGenres();\n    if (!favGenres.length) {\n      Notiflix.Notify.failure(\"We don't have any recomendations for you :(\");\n      return;\n    }\n    h2Rec.classList.remove('visually-hidden');\n\n    spinnerPlay();\n\n    const { results, total_results } = await filmAPIByID.getFavMovies(\n      favGenres\n    );\n    const correctFilmsList = await fixArray(results);\n    const markUp = createMarkUp(correctFilmsList);\n    ulEl.insertAdjacentHTML('beforeend', markUp);\n  } catch (error) {\n    Notiflix.Notify.failure(error.message);\n  } finally {\n    spinnerStop();\n  }\n}\n\nasync function onUlElClick(e) {\n  try {\n    if (e.target.nodeName === 'UL') {\n      return;\n    }\n    const selectedList = getLocalStorage(LOCAL_LIST);\n\n    const item = e.target.closest('li');\n\n    let id = item.dataset.id;\n\n    filmAPIByID.idFilm = id;\n    const film = await filmAPIByID.getFilmByID();\n\n    const video = await filmAPIByID.getTrailerById();\n\n    let arr = video.results;\n\n    function findTrailer(arr) {\n      return arr\n        .map(el => {\n          return el;\n        })\n        .find(el => el.name.includes('Trailer') || el.name);\n    }\n    let objectWithTrailer = findTrailer(arr);\n\n    function trailerCheck(object) {\n      if (!object) {\n        Notiflix.Notify.failure('Oops! Trailer did not find...');\n      } else {\n        return `https://www.youtube.com/embed/${object.key}`;\n      }\n    }\n    const movieLink = trailerCheck(objectWithTrailer);\n\n    const fixedFilm = fixObject(film);\n\n    fixedFilm.movie = movieLink;\n\n    const filmMarkUp = filmCard(fixedFilm);\n\n    modalContainer.innerHTML = filmMarkUp;\n    modalContainer.classList.remove('is-hidden');\n    let trailerBtnRef = document.querySelector('.trailerShow');\n    let iframeRef = document.querySelector('.hidden');\n    trailerBtnRef.addEventListener('click', () => {\n      iframeRef.classList.toggle('trailer__youtube');\n    });\n\n    let watchedBtn = document.querySelector('[data-name=\"watched\"]');\n    let queueBtn = document.querySelector('[data-name=\"queue\"]');\n    watchedBtn.textContent = 'REMOVE';\n    if (selectedList === 'queue') {\n      queueBtn.textContent = 'ADD TO WATCHED';\n    }\n\n    const onWatchedBtn = event => {\n      if (selectedList === 'watched') {\n        removeFromLocal(LOCAL_WATCHED, id, item);\n      } else {\n        removeFromLocal(LOCAL_QUEUE, id, item);\n      }\n    };\n    const onQueueBtn = event => {\n      if (selectedList === 'queue') {\n        setFilmToLocalStorage(LOCAL_WATCHED, id, fixedFilm);\n        removeFromLocal(LOCAL_QUEUE, id, item);\n      } else {\n        setFilmToLocalStorage(LOCAL_QUEUE, id, fixedFilm);\n        removeFromLocal(LOCAL_WATCHED, id, item);\n      }\n    };\n    modalContainer.addEventListener('click', onModalFilmClick);\n    document.addEventListener('keydown', onClose);\n    watchedBtn.addEventListener('click', onWatchedBtn);\n    queueBtn.addEventListener('click', onQueueBtn);\n  } catch (error) {\n    Notiflix.Notify.failure(error.message);\n  }\n}\n\nfunction removeFromLocal(localKey, filmId, li) {\n  const watchedArray = getLocalStorage(localKey);\n  const index = watchedArray.findIndex(film => film.id === Number(filmId));\n  watchedArray.splice(index, 1);\n  setLocalStorage(localKey, watchedArray);\n  closeModal();\n  li.remove();\n}\n\nfunction createFilmList(localKey) {\n  ulEl.innerHTML = '';\n  const arrayOfWatchedFilms = getLocalStorage(localKey);\n  if (!arrayOfWatchedFilms.length) {\n    Notiflix.Notify.failure('The list is empty.');\n  }\n  const watchedMarkUp = arrayOfWatchedFilms\n    .map(film => filmLibraryCard(film))\n    .join('');\n  ulEl.insertAdjacentHTML('beforeend', watchedMarkUp);\n}\nfunction closeModal() {\n  modalContainer.innerHTML = '';\n  modalContainer.classList.add('is-hidden');\n  document.removeEventListener('keydown', onClose);\n  modalContainer.removeEventListener('click', onModalFilmClick);\n}\nfunction onClose(event) {\n  if (event.code === 'Escape') {\n    closeModal();\n  }\n}\nfunction onModalFilmClick(event) {\n  if (event.target.nodeName === 'path' || event.target.nodeName === 'svg') {\n    closeModal();\n  }\n  if (event.target === event.currentTarget) {\n    closeModal();\n  }\n}\n","<li class='films__item' data-id={{id}}>\n    <div class='films__img'>\n        <img src='https://image.tmdb.org/t/p/w500{{poster_path}}' alt={{original_title}} loading='lazy' />\n    </div>\n    <div class='films__description'>\n        <p class='films__name'>{{title}}</p>\n        <div class=\"films__container\">\n            <p class='films__info'>{{genres}} | {{release_date}}</p>\n            <span class='films__rating'>{{vote_average}}</span>\n        </div>      \n    </div>\n</li>","import { setLocalStorage, getLocalStorage } from './localStorage';\nconst FAV_KEY = 'favouriteMovies';\nconst favLocal = getLocalStorage(FAV_KEY);\nconst arrayOfValues = Object.values(favLocal);\nexport function getFavGenres() {\n  const object = {};\n\n  arrayOfValues.forEach(film => {\n    if (object[film.id]) {\n      object[film.id] = object[film.id] + 1;\n    } else {\n      object[film.id] = 1;\n    }\n  });\n  const sortedGenres = Object.entries(object).sort((a, b) => b[1] - a[1]);\n  const favGenres = [];\n  sortedGenres.forEach(genre => favGenres.push(Number(genre[0])));\n  return favGenres.slice(0, 3).join(', ');\n}\n"],"names":["$bpxeT","parcelRequire","$l5bVx","$2523f6b7b77ece1d$export$2e2bcd8739ae039","$parcel$interopDefault","template","compiler","main","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","name","hash","loc","start","line","column","end","useData","$282e5e4cd3036fb7$var$favLocal","$UL92Z","getLocalStorage","$282e5e4cd3036fb7$var$arrayOfValues","values","$282e5e4cd3036fb7$export$951d08e861c72846","object","forEach","film","id","sortedGenres","entries","sort","a","b","favGenres","genre","push","Number","slice","join","$93effc6fc56091ad$var$watchedLibraryBtn","document","querySelector","$93effc6fc56091ad$var$queueLibraryBtn","$93effc6fc56091ad$var$favBtn","$93effc6fc56091ad$var$h2Rec","$93effc6fc56091ad$var$ulEl","$93effc6fc56091ad$var$modalContainer","$93effc6fc56091ad$var$LOCAL_WATCHED","$93effc6fc56091ad$var$LOCAL_QUEUE","$93effc6fc56091ad$var$LOCAL_LIST","addEventListener","classList","remove","add","$93effc6fc56091ad$var$createFilmList","setLocalStorage","$93effc6fc56091ad$var$_onFavBtn","apply","this","arguments","e","$93effc6fc56091ad$var$_onUlElClick","$93effc6fc56091ad$var$filmAPIByID","$lHIzZ","default","$2TvXO","mark","_callee","ref","results","correctFilmsList","markUp","innerHTML","length","$iU1Pc","Notify","failure","$j1lrD","spinnerPlay","getFavMovies","_ctx","sent","total_results","$6ulZ4","$5hsTI","createMarkUp","insertAdjacentHTML","t0","message","spinnerStop","selectedList","item","video","arr1","findTrailer","objectWithTrailer","trailerCheck","movieLink","fixedFilm","filmMarkUp","trailerBtnRef","iframeRef","watchedBtn","queueBtn","onWatchedBtn","onQueueBtn","arr","map","el","find","includes","concat","key","target","nodeName","closest","dataset","idFilm","getFilmByID","getTrailerById","$pWSgs","movie","$2eIIo","toggle","textContent","event","$93effc6fc56091ad$var$removeFromLocal","$bGg9a","$93effc6fc56091ad$var$onModalFilmClick","$93effc6fc56091ad$var$onClose","localKey","filmId","li","watchedArray","index","findIndex","splice","$93effc6fc56091ad$var$closeModal","arrayOfWatchedFilms","watchedMarkUp","removeEventListener","code","currentTarget"],"version":3,"file":"library.35a05729.js.map"}