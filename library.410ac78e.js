!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},l=n.parcelRequire216a;null==l&&((l=function(e){if(e in t)return t[e].exports;if(e in a){var n=a[e];delete a[e];var l={id:e,exports:{}};return t[e]=l,n.call(l.exports,l,l.exports),l.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){a[e]=n},n.parcelRequire216a=l);var i=l("bpxeT"),o=l("2TvXO"),r=l("iU1Pc"),d=l("lHIzZ"),c=l("2eIIo"),s=l("pWSgs"),u=l("UL92Z"),m=l("l5bVx"),f=e(l("WMajR")).template({compiler:[8,">= 4.3.0"],main:function(n,t,a,l,i){var o,r=null!=t?t:n.nullContext||{},d=n.hooks.helperMissing,c="function",s=n.escapeExpression,u=n.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"<li class='films__item' data-id="+s((void 0===(o=null!=(o=u(a,"id")||(null!=t?u(t,"id"):t))?o:d)?"undefined":e(m)(o))===c?o.call(r,{name:"id",hash:{},data:i,loc:{start:{line:1,column:32},end:{line:1,column:38}}}):o)+">\n    <div class='films__img'>\n        <img src='https://image.tmdb.org/t/p/w500"+s((void 0===(o=null!=(o=u(a,"poster_path")||(null!=t?u(t,"poster_path"):t))?o:d)?"undefined":e(m)(o))===c?o.call(r,{name:"poster_path",hash:{},data:i,loc:{start:{line:3,column:49},end:{line:3,column:64}}}):o)+"' alt="+s((void 0===(o=null!=(o=u(a,"original_title")||(null!=t?u(t,"original_title"):t))?o:d)?"undefined":e(m)(o))===c?o.call(r,{name:"original_title",hash:{},data:i,loc:{start:{line:3,column:70},end:{line:3,column:88}}}):o)+" loading='lazy' />\n    </div>\n    <div class='films__description'>\n        <p class='films__name'>"+s((void 0===(o=null!=(o=u(a,"title")||(null!=t?u(t,"title"):t))?o:d)?"undefined":e(m)(o))===c?o.call(r,{name:"title",hash:{},data:i,loc:{start:{line:6,column:31},end:{line:6,column:40}}}):o)+"</p>\n        <div class=\"films__container\">\n            <p class='films__info'>"+s((void 0===(o=null!=(o=u(a,"genres")||(null!=t?u(t,"genres"):t))?o:d)?"undefined":e(m)(o))===c?o.call(r,{name:"genres",hash:{},data:i,loc:{start:{line:8,column:35},end:{line:8,column:45}}}):o)+" | "+s((void 0===(o=null!=(o=u(a,"release_date")||(null!=t?u(t,"release_date"):t))?o:d)?"undefined":e(m)(o))===c?o.call(r,{name:"release_date",hash:{},data:i,loc:{start:{line:8,column:48},end:{line:8,column:64}}}):o)+"</p>\n            <span class='films__rating'>"+s((void 0===(o=null!=(o=u(a,"vote_average")||(null!=t?u(t,"vote_average"):t))?o:d)?"undefined":e(m)(o))===c?o.call(r,{name:"vote_average",hash:{},data:i,loc:{start:{line:9,column:40},end:{line:9,column:56}}}):o)+"</span>\n        </div>      \n    </div>\n</li>"},useData:!0}),v=l("bGg9a");l("9VC5X"),l("hPab3");var p=document.querySelector("[data-watched]"),g=document.querySelector("[data-queue]"),h=document.querySelector(".films"),L="watchedList",_="queueList",y="selectedList";p.addEventListener("click",(function(){g.classList.remove("is-active"),p.classList.add("is-active"),k(L),(0,u.setLocalStorage)(y,"watched")})),g.addEventListener("click",(function(){p.classList.remove("is-active"),g.classList.add("is-active"),k(_),(0,u.setLocalStorage)(y,"queue")})),h.addEventListener("click",(function(e){return b.apply(this,arguments)}));var w=new(0,d.default);function b(){return(b=e(i)(e(o).mark((function n(t){var a,l,i,d,m,f,p,g,h,b,k,x,q;return e(o).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,"UL"!==t.target.nodeName){n.next=3;break}return n.abrupt("return");case 3:return a=(0,u.getLocalStorage)(y),l=t.target.closest("li"),i=l.dataset.id,w.idFilm=i,n.next=9,w.getFilmByID();case 9:d=n.sent,m=(0,s.default)(d),f=(0,c.default)(m),document.querySelector("body").insertAdjacentHTML("beforeend",f),p=document.querySelector(".modal-backdrop"),g=document.querySelector('[data-name="watched"]'),h=document.querySelector('[data-name="queue"]'),g.textContent="REMOVE","queue"===a&&(h.textContent="ADD TO WATCHED"),b=function(e){"Escape"===e.code&&(p.remove(),document.removeEventListener("keydown",b))},k=function(e){"path"!==e.target.nodeName&&"svg"!==e.target.nodeName||(p.remove(),document.removeEventListener("keydown",b)),e.target===e.currentTarget&&(p.remove(),document.removeEventListener("keydown",b))},x=function(e){E("watched"===a?L:_,i,l,p)},q=function(e){"queue"===a?((0,v.default)(L,i,m,b),E(_,i,l,p)):((0,v.default)(_,i,m,b),E(L,i,l,p))},p.addEventListener("click",k),document.addEventListener("keydown",b),g.addEventListener("click",x),h.addEventListener("click",q),n.next=31;break;case 28:n.prev=28,n.t0=n.catch(0),e(r).Notify.failure(n.t0.message);case 31:case"end":return n.stop()}}),n,null,[[0,28]])})))).apply(this,arguments)}function E(e,n,t,a,l){var i=(0,u.getLocalStorage)(e),o=i.findIndex((function(e){return e.id===Number(n)}));i.splice(o,1),(0,u.setLocalStorage)(e,i),t.remove(),a.remove(),document.removeEventListener("keydown",l)}function k(n){h.innerHTML="";var t=(0,u.getLocalStorage)(n);t.length||e(r).Notify.failure("The list is empty.");var a=t.map((function(e){return f(e)})).join("");h.insertAdjacentHTML("beforeend",a)}}();
//# sourceMappingURL=library.410ac78e.js.map
