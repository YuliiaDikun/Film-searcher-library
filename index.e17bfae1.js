function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequire216a;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequire216a=o);var i=o("9Bkxl");const a=document.querySelector(".js-team-link"),u=document.querySelector("#js-modal"),l=document.querySelector("#modal-btn"),c=(document.querySelector("#js-modal-team"),e=>{"Escape"===e.code&&(u.classList.add("is-hidden"),document.body.style.overflow="auto",document.removeEventListener("keydown",c))}),s=e=>{e.target===e.currentTarget&&(u.classList.add("is-hidden"),document.body.style.overflow="auto",document.removeEventListener("keydown",c),u.removeEventListener("click",s))};l.addEventListener("click",(()=>{u.classList.add("is-hidden"),document.body.style.overflow="auto",document.removeEventListener("keydown",c)})),a.addEventListener("click",(e=>{u.classList.remove("is-hidden"),document.body.style.overflow="hidden",document.addEventListener("keydown",c),u.addEventListener("click",s)}));o("9Bkxl");var f=o("eWCmQ"),d=o("1vg23"),y=o("2nhTy"),m=o("04jNI");o("4S0r6"),o("lo17Q");i=o("9Bkxl"),d=o("1vg23"),y=o("2nhTy");var v=o("fb9GJ"),p=o("hfgIj");m=o("04jNI"),f=o("eWCmQ");const g=document.getElementById("tui-pagination-container");var w={},b=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,j=/^0b[01]+$/i,L=/^0o[0-7]+$/i,T=parseInt,k="object"==typeof t&&t&&t.Object===Object&&t,E="object"==typeof self&&self&&self.Object===Object&&self,x=k||E||Function("return this")(),M=Object.prototype.toString,S=Math.max,N=Math.min,q=function(){return x.Date.now()};function O(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function P(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==M.call(e)}(e))return NaN;if(O(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=O(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(b,"");var n=j.test(e);return n||L.test(e)?T(e.slice(2),n?2:8):h.test(e)?NaN:+e}w=function(e,t,n){var r,o,i,a,u,l,c=0,s=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,i=o;return r=o=void 0,c=t,a=e.apply(i,n)}function m(e){return c=e,u=setTimeout(p,t),s?y(e):a}function v(e){var n=e-l;return void 0===l||n>=t||n<0||f&&e-c>=i}function p(){var e=q();if(v(e))return g(e);u=setTimeout(p,function(e){var n=t-(e-l);return f?N(n,i-(e-c)):n}(e))}function g(e){return u=void 0,d&&r?y(e):(r=o=void 0,a)}function w(){var e=q(),n=v(e);if(r=arguments,o=this,l=e,n){if(void 0===u)return m(l);if(f)return u=setTimeout(p,t),y(l)}return void 0===u&&(u=setTimeout(p,t)),a}return t=P(t)||0,O(n)&&(s=!!n.leading,i=(f="maxWait"in n)?S(P(n.maxWait)||0,t):i,d="trailing"in n?!!n.trailing:d),w.cancel=function(){void 0!==u&&clearTimeout(u),c=0,r=l=o=u=void 0},w.flush=function(){return void 0===u?a:g(q())},w};const _=document.querySelector(".film-form"),I=document.querySelector(".films"),B=new(0,i.default);_.addEventListener("input",w((async function(t){try{if(!t.target.value){const{results:e,total_results:t}=await B.getPopularFilms(),n=await(0,p.default)(e),r=(0,d.createMarkUp)(n);return I.innerHTML=r,void(0,y.createPagination)(t)}{const n=t.target.value.trim();B.query=n;const{results:r,total_results:o}=await B.getFilmByQuery(),i=await(0,p.default)(r),a=(0,d.createMarkUp)(i);I.innerHTML=a,function(t){let n=1;new(e(v))(g,{totalItems:t,itemsPerPage:20,visiblePages:5,page:n,centerAlign:!1}).on("afterMove",(async function(t){try{I.replaceChildren([]),n=t.page,(0,m.spinnerPlay)();const{results:e}=await B.getFilmByQuery(n),r=await(0,p.default)(e);console.log(r);const o=(0,d.createMarkUp)(r);I.insertAdjacentHTML("beforeend",o)}catch(t){e(f).Notify.failure(t.message)}finally{(0,m.spinnerStop)()}}))}(o)}}catch(t){e(f).Notify.failure(t.message)}finally{(0,m.spinnerStop)()}}),300));y=o("2nhTy"),p=o("hfgIj");const F=new(0,i.default),U=document.querySelector(".films");!async function(){try{(0,m.spinnerPlay)();const{page:e,results:t,total_pages:n,total_results:r}=await F.getPopularFilms(),o=await(0,p.default)(t),i=(0,d.createMarkUp)(o);U.insertAdjacentHTML("beforeend",i),(0,y.createPagination)(r)}catch(t){e(f).Notify.failure(t.message)}finally{(0,m.spinnerStop)()}}();
//# sourceMappingURL=index.e17bfae1.js.map
